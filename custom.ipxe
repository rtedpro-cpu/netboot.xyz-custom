#!ipxe
###
### made by rtedpro-cpu
### collaborator Efebey007
###

:custom
clear choice
menu WindowsNetboot
item --gap Windows Installations
item option_one ${space} Boot into WindowsNetboot PE
item --gap Windows Recovery PE(s)
item option_two ${space} HBCD PE
choose choice || goto exit
echo ${cls}
goto ${choice}
goto exit

:option_one
imgfree
kernel http://boot.netboot.xyz/wimboot
initrd -n bootmgr     https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/custom/files/x64/BOOTMGR       bootmgr ||
initrd -n bootmgr.efi https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/custom/files/x64/bootmgr.efi   bootmgr.efi ||      
initrd -n bcd         https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/custom/files/x64/Boot/BCD      bcd ||
initrd -n boot.sdi    https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/custom/files/x64/Boot/boot.sdi boot.sdi ||
initrd -n boot.wim    https://github.com/rtedpro-cpu/windowsnetboot/releases/download/b4/boot.wim boot.wim
boot || goto exit

:option_two
imgfree
kernel http://boot.netboot.xyz/wimboot
initrd -n bootmgr     https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/hbcd/BOOTMGR       bootmgr ||
initrd -n bootmgr.efi https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/hbcd/bootmgr.efi   bootmgr.efi ||      
initrd -n bcd         https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/hbcd/boot/bcd      bcd ||
initrd -n boot.sdi    https://github.com/rtedpro-cpu/windowsnetboot/raw/refs/heads/main/release/hbcd/boot/boot.sdi boot.sdi ||
initrd -n boot.wim    https://github.com/rtedpro-cpu/windowsnetboot/releases/download/hbcd/boot.wim boot.wim
boot || goto exit

:exit
chain utils.ipxe
exit
